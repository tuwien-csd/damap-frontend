<h1 mat-dialog-title>
  <ng-container *ngIf="mode === 'edit'; else add">{{
    "admin.dialog.internal-storage.edit" | translate
  }}</ng-container>
  <ng-template #add>{{
    "admin.dialog.internal-storage.add" | translate
  }}</ng-template>
</h1>

<mat-dialog-content id="datasetDialog">
  <div [formGroup]="storage">
    <app-input-wrapper
      [label]="'admin.dialog.internal-storage.captions.url' | translate"
      [control]="url"></app-input-wrapper>
    <app-input-wrapper
      [label]="
        'admin.dialog.internal-storage.captions.storageLocation' | translate
      "
      [control]="storageLocation"></app-input-wrapper>
    <app-input-wrapper
      [label]="
        'admin.dialog.internal-storage.captions.backupLocation' | translate
      "
      [control]="backupLocation"></app-input-wrapper>
    <mat-checkbox formControlName="active">
      {{ "admin.dialog.internal-storage.captions.active" | translate }}
    </mat-checkbox>
    <div *ngIf="mode === 'add'">
      <div [formGroup]="storageTranslation">
        <hr />

        <div class="dialogRow">
          <mat-form-field>
            <mat-label>{{
              "admin.dialog.internal-storage-translation.captions.languageCode"
                | translate
            }}</mat-label>
            <mat-select formControlName="languageCode" required>
              <mat-option [value]="'eng'">
                {{
                  "admin.dialog.internal-storage-translation.captions.eng"
                    | translate
                }}
              </mat-option>
              <mat-option [value]="'deu'">
                {{
                  "admin.dialog.internal-storage-translation.captions.deu"
                    | translate
                }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <app-input-wrapper
          [label]="
            'admin.dialog.internal-storage-translation.captions.title'
              | translate
          "
          [control]="title"></app-input-wrapper>

        <app-textarea-wrapper
          [label]="
            'admin.dialog.internal-storage-translation.captions.description'
              | translate
          "
          [control]="description"
          [maxLength]="4000"></app-textarea-wrapper>

        <app-input-wrapper
          [label]="
            'admin.dialog.internal-storage-translation.captions.backupFrequency'
              | translate
          "
          [control]="backupFrequency"></app-input-wrapper>
      </div>
    </div>
  </div>
</mat-dialog-content>

<mat-dialog-actions>
  <button mat-button (click)="onNoClick()">
    {{ "admin.dialog.internal-storage.button.cancel" | translate }}
  </button>
  <button
    (click)="onDialogClose()"
    mat-raised-button
    class="button-color-primary"
    [disabled]="storage.invalid">
    <ng-container *ngIf="mode === 'edit'">{{
      "admin.dialog.internal-storage.button.update" | translate
    }}</ng-container>
    <ng-container *ngIf="mode === 'add'">{{
      "admin.dialog.internal-storage.button.add" | translate
    }}</ng-container>
  </button>
</mat-dialog-actions>
